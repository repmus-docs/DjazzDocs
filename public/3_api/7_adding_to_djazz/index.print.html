<!DOCTYPE html>
<html lang="en" dir="ltr" itemscope itemtype="http://schema.org/Article">
  <head><script src="/Djazz_2.0_documentation/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=Djazz_2.0_documentation/livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.129.0">
    <meta name="generator" content="Relearn 6.0.0+tip">
    <meta name="description" content="">
    <meta name="author" content="Daniel Brown">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="http://localhost:1313/Djazz_2.0_documentation/images/hero.png">
    <meta name="twitter:title" content="Adding to Djazz :: Djazz">
    <meta property="og:url" content="http://localhost:1313/Djazz_2.0_documentation/3_api/7_adding_to_djazz.html">
    <meta property="og:site_name" content="Djazz">
    <meta property="og:title" content="Adding to Djazz :: Djazz">
    <meta property="og:locale" content="en">
    <meta property="og:type" content="website">
    <meta property="og:image" content="http://localhost:1313/Djazz_2.0_documentation/images/hero.png">
    <meta itemprop="name" content="Adding to Djazz :: Djazz">
    <meta itemprop="image" content="http://localhost:1313/Djazz_2.0_documentation/images/hero.png">
    <title>Adding to Djazz :: Djazz</title>
    <link href="http://localhost:1313/Djazz_2.0_documentation/3_api/7_adding_to_djazz.html" rel="canonical" type="text/html" title="Adding to Djazz :: Djazz">
    <link href="/Djazz_2.0_documentation/3_api/7_adding_to_djazz/index.xml" rel="alternate" type="application/rss+xml" title="Adding to Djazz :: Djazz">
    <link href="/Djazz_2.0_documentation/css/fontawesome-all.min.css?1736191438" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/Djazz_2.0_documentation/css/fontawesome-all.min.css?1736191438" rel="stylesheet"></noscript>
    <link href="/Djazz_2.0_documentation/css/nucleus.css?1736191438" rel="stylesheet">
    <link href="/Djazz_2.0_documentation/css/auto-complete.css?1736191438" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/Djazz_2.0_documentation/css/auto-complete.css?1736191438" rel="stylesheet"></noscript>
    <link href="/Djazz_2.0_documentation/css/perfect-scrollbar.min.css?1736191438" rel="stylesheet">
    <link href="/Djazz_2.0_documentation/css/fonts.css?1736191438" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/Djazz_2.0_documentation/css/fonts.css?1736191438" rel="stylesheet"></noscript>
    <link href="/Djazz_2.0_documentation/css/theme.css?1736191438" rel="stylesheet">
    <link href="/Djazz_2.0_documentation/css/theme-relearn-auto.css?1736191438" rel="stylesheet" id="R-variant-style">
    <link href="/Djazz_2.0_documentation/css/chroma-relearn-auto.css?1736191438" rel="stylesheet" id="R-variant-chroma-style">
    <link href="/Djazz_2.0_documentation/css/variant.css?1736191438" rel="stylesheet">
    <link href="/Djazz_2.0_documentation/css/print.css?1736191438" rel="stylesheet" media="print">
    <link href="/Djazz_2.0_documentation/css/format-print.css?1736191438" rel="stylesheet">
    <script src="/Djazz_2.0_documentation/js/variant.js?1736191438"></script>
    <script>
      window.relearn = window.relearn || {};
      window.relearn.relBasePath='..';
      window.relearn.relBaseUri='..\/..';
      window.relearn.absBaseUri='http:\/\/localhost:1313\/Djazz_2.0_documentation';
      window.index_js_url="/Djazz_2.0_documentation/index.search.js?1736191438";
      // variant stuff
      window.variants && variants.init( [ 'relearn-auto', 'relearn-light', 'relearn-dark', 'relearn-bright', 'zen-auto', 'zen-light', 'zen-dark', 'retro-auto', 'neon', 'learn', 'blue', 'green', 'red' ] );
      // translations
      window.T_Copy_to_clipboard = `Copy to clipboard`;
      window.T_Copied_to_clipboard = `Copied to clipboard!`;
      window.T_Copy_link_to_clipboard = `Copy link to clipboard`;
      window.T_Link_copied_to_clipboard = `Copied link to clipboard!`;
      window.T_Reset_view = `Reset view`;
      window.T_View_reset = `View reset!`;
      window.T_No_results_found = `No results found for "{0}"`;
      window.T_N_results_found = `{1} results found for "{0}"`;
    </script>
    <style>
      #R-body img.bg-white {
        background-color: white;
      }
    </style>
  </head>
  <body class="mobile-support print disableInlineCopyToClipboard" data-url="/Djazz_2.0_documentation/3_api/7_adding_to_djazz.html">
    <div id="R-body" class="default-animation">
      <div id="R-body-overlay"></div>
      <nav id="R-topbar">
        <div class="topbar-wrapper">
          <div class="topbar-sidebar-divider"></div>
          <div class="topbar-area topbar-area-start" data-area="start">
            <div class="topbar-button topbar-button-sidebar" data-content-empty="disable" data-width-s="show" data-width-m="hide" data-width-l="hide"><button class="topbar-control" onclick="toggleNav()" type="button" title="Menu (CTRL&#43;ALT&#43;n)"><i class="fa-fw fas fa-bars"></i></button>
            </div>
          </div>
          <ol class="topbar-breadcrumbs breadcrumbs highlightable" itemscope itemtype="http://schema.org/BreadcrumbList"><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><a itemprop="item" href="/Djazz_2.0_documentation/3_api.html"><span itemprop="name">API</span></a><meta itemprop="position" content="1">&nbsp;>&nbsp;</li><li
            itemscope itemtype="https://schema.org/ListItem" itemprop="itemListElement"><span itemprop="name">Adding to Djazz</span><meta itemprop="position" content="2"></li>
          </ol>
          <div class="topbar-area topbar-area-end" data-area="end">
            <div class="topbar-button topbar-button-prev" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/Djazz_2.0_documentation/3_api/6_architecture/3_synchronous_data_model.html" title="Synchronous Data in the Model (ðŸ¡)"><i class="fa-fw fas fa-chevron-left"></i></a>
            </div>
            <div class="topbar-button topbar-button-next" data-content-empty="disable" data-width-s="show" data-width-m="show" data-width-l="show"><a class="topbar-control" href="/Djazz_2.0_documentation/3_api/7_adding_to_djazz/1_general_principles_and_method.html" title="Adding to Djazz (ðŸ¡’)"><i class="fa-fw fas fa-chevron-right"></i></a>
            </div>
          </div>
        </div>
      </nav>
      <div id="R-main-overlay"></div>
      <main id="R-body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <article class="default">
            <header class="headline">
            </header>

<h1 id="adding-to-djazz">Adding to Djazz</h1>


            <footer class="footline">
            </footer>
          </article>

          <section>
            <h1 class="a11y-only">Subsections of Adding to Djazz</h1>
          <article class="default">
            <header class="headline">
            </header>

<h1 id="adding-to-djazz">Adding to Djazz</h1>

<p>To add functionality to Djazz, use the following method:</p>
<h6 id="in-model">IN MODEL:</h6>
<ul>
<li>Create your patcher.  Use pattr objects for asynchronous input.  You can include a pattrhub object to broadcast pattr messages for reusability&rsquo;s sake, but this is not needed if the patcher is inside the model patcher (djazz.maxpat).</li>
<li>Connect your patcher in the appropriate place inside djazz.maxpat. See the <a href="/Djazz_2.0_documentation/3_api/7_adding_to_djazz/1_general_principles_and_method.html">specific descriptions</a> for examples.</li>
</ul>
<h6 id="in-control">IN CONTROL:</h6>
<ul>
<li>Inside <em>djazz.control</em>, place a subpatcher, possibly containing other subpatchers, with pattr objects, so that the patcher/pattr hierarchy reflects the way in which you want your new functionality to be called.</li>
<li>Create a translator subpatcher and connect the output of the control subpatcher to it. This translator subpatcher should convert the message passed into djazz.control (&lt;<em>control variable name</em>&gt; &lt;<em>control variable value</em>&gt;) to the message needed by the model (&lt;<em>model variable name</em>&gt; &lt;<em>model variable value</em>&gt;). The Max <em>regexp</em> and __ objects are good for this.  You can use the <em>Debug View</em> button to open the lists of pattrs in the model and control to make sure things are being named properly.</li>
<li>Parameter-enable the pattrs if you want to trigger them with external devices via Djazz&rsquo;s <a href="/Djazz_2.0_documentation/3_api/7_adding_to_djazz/1_general_principles_and_method.html">parameter handler</a> patcher. Alternatively, you could pattern-enable the pattrs in the view (following section). Only parameter-enable one set of pattrs: those in the control or those in the view.</li>
<li>Connect the translator to the control output that goes to the model.</li>
</ul>
<h6 id="in-a-view">IN A VIEW:</h6>
<ul>
<li>Create a bpatcher containing the graphic controls and views for your patcher. Attach pattr objects to the controls.</li>
<li>Create a translator subpatcher and connect the output of the control subpatcher to it. This translator subpatcher should convert the message passed out of your bpatcher (&lt;<em>view variable name</em>&gt; &lt;<em>view variable value</em>&gt;) to the message needed by the control (&lt;<em>control variable name</em>&gt; &lt;<em>control variable value</em>&gt;). The Max <em>regexp</em> and __ objects are good for this.</li>
<li>When placed in djazz.view, the pattrstorage system will handle the messaging; you don&rsquo;t have to connect your bpatcher to an output.</li>
</ul>
<h6 id="in-a-view-control">IN A VIEW CONTROL:</h6>
<ul>
<li>If necessary, add a subpatcher with pattrs, and a corresponding trnaslator, to djazz.view_control if you want to pass data from the model back into your view subpatcher.</li>
</ul>
<p><strong>Be sure to give all your pattrs initial values, and that these initial values are the same in the view, control, model, and possibly view control.</strong></p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="midi-effects">MIDI Effects</h1>

<p>Effects that modify MIDI output should be placed inside the djazz.midi_out_effect_list abstraction inside the djazz.midi_out_track abstraction:</p>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="audio-effects">Audio Effects</h1>

<p>Effects that modify audio output should be placed in one of two places, depending how they function.  There are two places where audio can be modified:</p>
<ol>
<li>
<p>If the object does not process audio data itself, but determines parameters to pass to the supervp player, so that it plays audio data back differently, it should be placed in the djazz.audio_beat_generator abstraction.  This is how Djazz&rsquo;s audio_transpose_pitch and audio_transpose_octave effects work:</p>
</li>
<li>
<p>If the object processes audio itself, it should be placed between an djazz.beat_player object and an audio.out object:</p>
</li>
</ol>

            <footer class="footline">
            </footer>
          </article>

          <article class="default">
            <header class="headline">
            </header>

<h1 id="audio-effects">Audio Effects</h1>

<p>The factor oracle player, which Djazz uses to improvise, can be modified or replaced by another algorithm.  There are several levels of depth to which you can modify the improvisation functionality; read the <a href="http://localhost:1313/Djazz_2.0_documentation//3_API/5_improvisation.html">API section on improvisation</a>
.  Here is just an explanation for where to put a new improviser Max object or abstraction.</p>
<p>Replace the <em>improviser.maxpat</em> abstraction in <em>djazz.beat_generator</em>.  Your new improviser object should conform to the same input and output messages as the <em>improviser.maxpat</em> (see the <a href="http://localhost:1313/Djazz_2.0_documentation//3_API/1_abstraction_references/djazz.improviser.html">reference page</a>
).</p>

            <footer class="footline">
            </footer>
          </article>

          </section>
        </div>
      </main>
    </div>
    <script src="/Djazz_2.0_documentation/js/clipboard.min.js?1736191438" defer></script>
    <script src="/Djazz_2.0_documentation/js/perfect-scrollbar.min.js?1736191438" defer></script>
    <script src="/Djazz_2.0_documentation/js/theme.js?1736191438" defer></script>
  </body>
</html>
